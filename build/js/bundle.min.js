function onYouTubePlayerAPIReady(){player=new YT.Player("player",{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){getYoutubePlaylist(),loadVideo()}function onPlayerStateChange(e){0===e.data&&nextVideo()}function minixhr(e,a){var t;$.get(e,function(e){t=e.items.map(function(e){return e.snippet.resourceId.videoId}),a({items:t,next:e.nextPageToken})})}function getYoutubePlaylist(){function e(a){playlist=playlist.concat(a.items),a.next&&minixhr(makeURL(a.next),e)}minixhr(makeURL(),function(a){player.cueVideoById(a.items[0]),e(a)})}function makeURL(e,a){e="&pageToken="+(e||""),a=a||50;var t="PLbtP2pUMT_hukdtCayfrk592awflW5GEe",i="AIzaSyB6yBDZDm5CrTfSyB1ZZLtTcvim2kBCfYU",n="https://www.googleapis.com/youtube/v3/playlistItems?",o="part=snippet&maxResults="+a+"&playlistId="+t+"&key="+i;return n+o+e}function loadVideo(){player.cueVideoById(playlist[playlistCursor]),$(".title").html("<h1>"+playlistCursor+" - "+playlistMeta[playlistCursor].title+"</h1>"),$(".description").html("<p>"+playlistMeta[playlistCursor].desc+"</p>")}function nextVideo(){playlistCursor<playlist.length-1&&(playlistCursor++,loadVideo())}function prevVideo(){playlistCursor>=1&&(playlistCursor--,loadVideo())}function gotoVideo(e){playlistCursor=e,loadVideo(),closeIndex()}function hideChat(){$("#chat").toggleClass("disabled-chat"),$("#content").toggleClass("disabled-chat"),$("#toggle-chat").toggleClass("disabled-chat")}function hideNav(){$("#nav").toggleClass("disabled-nav"),$("#content").toggleClass("disabled-nav"),$("#map").toggleClass("disabled-nav"),$("#toggle-nav").toggleClass("disabled-nav")}function openIndex(){$(".modal-index").toggleClass("modal-index-active"),$(".modal-bg").toggleClass("modal-index-active")}function closeIndex(){$(".modal-index").toggleClass("modal-index-active"),$(".modal-bg").toggleClass("modal-index-active")}function openMap(){$("#map").addClass("open-map"),$("#map-modal-bg").addClass("open-map")}function closeMap(){$("#map").removeClass("open-map"),$("#map-modal-bg").removeClass("open-map")}function toggleChat(){$("#chat").toggleClass("disabled-chat"),$("#content").toggleClass("disabled-chat"),$("#toggle-chat").toggleClass("disabled-chat")}function toggleNav(){$("#nav").toggleClass("disabled-nav"),$("#content").toggleClass("disabled-nav"),$("#map").toggleClass("disabled-nav"),$("#toggle-nav").toggleClass("disabled-nav")}function init(){function e(){this.checked&&(t.disabled=n.disabled=o.disabled=i.disabled=!0,a.switchPosition(this.value,"animate",{onComplete:function(){t.disabled=n.disabled=o.disabled=i.disabled=!1}}))}var a=new $jit.ST({injectInto:"infovis",duration:300,transition:$jit.Trans.Quart.easeInOut,levelDistance:50,Navigation:{enable:!0,panning:!0},Node:{height:30,width:90,type:"rectangle",color:"#aaa",overridable:!0},Edge:{type:"bezier",overridable:!0},onBeforeCompute:function(e){Log.write("loading "+e.name)},onAfterCompute:function(){Log.write("done")},onCreateLabel:function(e,t){e.id=t.id,e.innerHTML=t.name,e.onclick=function(){l.checked?a.onClick(t.id):a.setRoot(t.id,"animate")};var i=e.style;i.width="60px",i.height="17px",i.cursor="pointer",i.color="#333",i.fontSize="0.8em",i.textAlign="center",i.paddingTop="3px"},onBeforePlotNode:function(e){if(e.selected)e.data.$color="#ff7";else if(delete e.data.$color,!e.anySubnode("exist")){var a=0;e.eachSubnode(function(e){a++}),e.data.$color=["#aaa","#baa","#caa","#daa","#eaa","#faa"][a]}},onBeforePlotLine:function(e){e.nodeFrom.selected&&e.nodeTo.selected?(e.data.$color="#eed",e.data.$lineWidth=3):(delete e.data.$color,delete e.data.$lineWidth)}});a.loadJSON(json),a.compute(),a.geom.translate(new $jit.Complex((-200),0),"current"),a.onClick(a.root);var t=$jit.id("r-top"),i=$jit.id("r-left"),n=$jit.id("r-bottom"),o=$jit.id("r-right"),l=$jit.id("s-normal");t.onchange=i.onchange=n.onchange=o.onchange=e}var config={apiKey:"AIzaSyBRxFRRmMpXY1RmDSFvf-OOpf76kDK7dw8",authDomain:"project-6372607757339212977.firebaseapp.com",databaseURL:"https://wizard-amigos.firebaseio.com/",storageBucket:"project-6372607757339212977.appspot.com"};firebase.initializeApp(config);var ref=new Firebase("https://wizard-amigos.firebaseio.com/"),playlistMeta=[],playlistData,playlist=[],playlistCursor=0,player;ref.child("videos").once("value",function(e){playlistMeta=e.val();var a="<ul>";for(x in playlistMeta)a+="<li onclick='gotoVideo("+x+")'>"+x+" &nbsp; - &nbsp; "+playlistMeta[x].title+"</li>";a+="</ul>",$(".modal-index").html(a),$(".title").html("<h1>"+playlistCursor+" - "+playlistMeta[playlistCursor].title+"</h1>"),$(".description").html("<p>"+playlistMeta[playlistCursor].desc+"</p>")});var json;ref.child("skills").once("value",function(e){json=e.val(),init()});var counter=0;$(document).ready(function(){$(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}})}),$(".close-btn").on("click",function(e){e.stopPropagation(),$("#map").removeClass("open-map"),$("#map-modal-bg").removeClass("open-map")});var labelType,useGradients,nativeTextSupport,animate;!function(){var e=navigator.userAgent,a=e.match(/iPhone/i)||e.match(/iPad/i),t=typeof HTMLCanvasElement,i="object"==t||"function"==t,n=i&&"function"==typeof document.createElement("canvas").getContext("2d").fillText;labelType=!i||n&&!a?"Native":"HTML",nativeTextSupport="Native"==labelType,useGradients=i,animate=!(a||!i)}();var Log={elem:!1,write:function(e){this.elem||(this.elem=document.getElementById("log")),this.elem.innerHTML=e,this.elem.style.left=500-this.elem.offsetWidth/2+"px"}};$(document).ready(function(){$(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}})});